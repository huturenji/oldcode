(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{104:function(e,t,n){e.exports=n.p+"static/img/img_Viewfinder.934f914.png"},107:function(e,t,n){var r={"./0/register.png":143,"./1/register.png":144,"./10/register.png":145,"./2/register.png":146,"./3/register.png":147,"./4/register.png":148,"./5/register.png":149,"./6/register.png":150,"./7/register.png":151,"./8/register.png":152,"./9/register.png":153};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=107},113:function(e,t,n){"use strict";var r=n(128),i=n.n(r),a=n(102),s=n.n(a),c=n(103),o=n.n(c),p=n(35),u=n.n(p),f=n(15),g=n.n(f),h=n(40),v=n.n(h),d=n(41),l=n.n(d),m=function(){function e(){v()(this,e),this.cameraInterval=null,this.qrTimer=null,this.PREVIEW_OPTIONS=[300,139,0,0],this.takenPhotoing=!1,this.isShow=!1,this.options={},this.retry=5,this.intervalTime=1500}var t,n,r,a,c,p,f;return l()(e,[{key:"init",value:function(e){var t,n=this;return this.retry=5,this.options=e,this.options.defaultCameraOption=JSON.parse(g()(this.options.cameraOptions)),new u.a((t=o()(s.a.mark((function e(t,r){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.openDevice();case 3:0!=(i=e.sent)?n.cameraInterval=setInterval(o()(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("opendevice failed retry",n.retry),!(n.retry>0)){e.next=9;break}return e.next=4,n.openDevice();case 4:0==(r=e.sent)&&(console.log("opendevice success "),t(r)),n.retry--,e.next=11;break;case 9:n.cameraInterval&&clearInterval(n.cameraInterval)&&(n.cameraInterval=null),t(-999);case 11:case"end":return e.stop()}}),e,n)}))),n.intervalTime):t(i),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(-999);case 10:case"end":return e.stop()}}),e,n,[[0,7]])}))),function(e,n){return t.apply(this,arguments)}))}},{key:"openDevice",value:(f=o()(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.closePromise){e.next=4;break}return e.next=3,window.closePromise;case 3:window.closePromise=null;case 4:return e.next=6,ipcRenderer.sendSync("openDevice");case 6:if(0!=(t=e.sent)){e.next=14;break}return this.cameraInterval&&clearInterval(this.cameraInterval)&&(this.cameraInterval=null),e.next=11,this.createNativeWindow(this.options.cwnd);case 11:return 0==(n=e.sent)&&(this.retry=0,this.setDefaultOption(this.options.defaultCameraOption),r=new CustomEvent("cameraInit",{detail:{type:this.options.type,created:!n}}),window.dispatchEvent(r)),e.abrupt("return",n);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"createNativeWindow",value:(p=o()(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new u.a(function(){var e=o()(s.a.mark((function e(r,i){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ipcRenderer.sendSync("createNativeWindow",t||n.PREVIEW_OPTIONS);case 3:a=e.sent,r(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(-999);case 10:case"end":return e.stop()}}),e,n,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"setDefaultOption",value:function(e){var t=this;["whitebalance","exposure"].forEach((function(n){var r=n+"_auto",i=e[r];1===i?t.setCameraOption(n,[e[n]]):t.setCameraOption(r,[i])}))}},{key:"setOption",value:function(e){for(key in i()(this.options.cameraOption,e),this.options.cameraOption)this.setCameraOption(key,[this.options.cameraOption[key]])}},{key:"resetOption",value:function(){var e=this.options.cameraOption,t=this.options.defaultCameraOption;for(var n in e)if(Object.hasOwnProperty.call(e,n)){var r=t[n];r!=e[n]&&(e[n]=r,this.setCameraOption(n,[r]))}}},{key:"setCameraOption",value:function(e,t){ipcRenderer.sendSync("setCameraOption",{type:e,value:t})}},{key:"getPhoto",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"captured_image.jpg";return this.takenPhotoing=!0,new u.a((e=o()(s.a.mark((function e(r,i){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ipcRenderer.sendSync("takePhoto",n);case 3:a=e.sent,t.takenPhotoing=!1,0==a?(setTimeout((function(){t.hide()}),250),r(a)):(t.hide(),r(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(-999);case 11:case"end":return e.stop()}}),e,t,[[0,8]])}))),function(t,n){return e.apply(this,arguments)}))}},{key:"getQRPhoto",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preview_temp.jpg";return new u.a((t=o()(s.a.mark((function e(t,i){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ipcRenderer.sendSync("takePhoto",r);case 3:if(0!=(a=e.sent)){e.next=8;break}t(a),e.next=11;break;case 8:return e.next=10,n.close();case 10:t(a);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t(-999);case 16:case"end":return e.stop()}}),e,n,[[0,13]])}))),function(e,n){return t.apply(this,arguments)}))}},{key:"transmitInit",value:function(){}},{key:"reflexInit",value:function(){return this.getQRFromImage()}},{key:"getQRFromImage",value:(c=o()(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new u.a(function(){var e=o()(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.takenPhotoing){e.next=18;break}return e.prev=1,e.next=4,t.getQRPhoto("preview_temp.jpg");case 4:if(0!=e.sent){e.next=13;break}return e.next=8,ipcRenderer.sendSync("parseQrCodeImage","preview_temp.jpg");case 8:if(r=e.sent,!t.takenPhotoing){e.next=12;break}return n(""),e.abrupt("return");case 12:r&&0==r.code&&r.data&&r.data.content?n(r.data.content):n("");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n("");case 18:case"end":return e.stop()}}),e,t,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"close",value:(a=o()(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.cameraInterval&&clearInterval(this.cameraInterval),window.closePromise=new u.a(function(){var e=o()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.hide();case 2:return e.next=4,ipcRenderer.sendSync("closeNativeWindow");case 4:t();case 5:case"end":return e.stop()}}),e,n)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"show",value:(r=o()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ipcRenderer.sendSync("showChildWindow");case 2:this.isShow=!0;case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"hide",value:(n=o()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ipcRenderer.sendSync("hideChildWindow");case 2:this.isShow=!1;case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"open",value:(t=o()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();t.a=new m},114:function(e,t,n){"use strict";var r=n(40),i=n.n(r),a=n(41),s=n.n(a),c=function(){function e(){i()(this,e)}return s()(e,[{key:"getScanIndex",value:function(e){return e%10+1}}]),e}();t.a=new c},115:function(e,t,n){var r={"./0/register_fuzzy.png":132,"./1/register_fuzzy.png":133,"./10/register_fuzzy.png":134,"./2/register_fuzzy.png":135,"./3/register_fuzzy.png":136,"./4/register_fuzzy.png":137,"./5/register_fuzzy.png":138,"./6/register_fuzzy.png":139,"./7/register_fuzzy.png":140,"./8/register_fuzzy.png":141,"./9/register_fuzzy.png":142};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=115},116:function(e,t,n){e.exports=n.p+"static/img/index.5591751.png"},132:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.88d17c4.png"},133:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.1560c71.png"},134:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.d627447.png"},135:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.e3a5687.png"},136:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.2f418b0.png"},137:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.af9153b.png"},138:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.9d79fc3.png"},139:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.047e5a6.png"},140:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.4dad4c3.png"},141:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.5ca2d44.png"},142:function(e,t,n){e.exports=n.p+"static/img/register_fuzzy.d2d3742.png"},143:function(e,t,n){e.exports=n.p+"static/img/register.e45094e.png"},144:function(e,t,n){e.exports=n.p+"static/img/register.158ad13.png"},145:function(e,t,n){e.exports=n.p+"static/img/register.46458bb.png"},146:function(e,t,n){e.exports=n.p+"static/img/register.5ef6238.png"},147:function(e,t,n){e.exports=n.p+"static/img/register.0ca7e0e.png"},148:function(e,t,n){e.exports=n.p+"static/img/register.5b013ed.png"},149:function(e,t,n){e.exports=n.p+"static/img/register.cd818a2.png"},150:function(e,t,n){e.exports=n.p+"static/img/register.94d033f.png"},151:function(e,t,n){e.exports=n.p+"static/img/register.6cf305a.png"},152:function(e,t,n){e.exports=n.p+"static/img/register.dab4d32.png"},153:function(e,t,n){e.exports=n.p+"static/img/register.b86f0bc.png"}}]);