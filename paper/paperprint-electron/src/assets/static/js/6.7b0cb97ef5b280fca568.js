(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{102:function(e,t,r){e.exports=r(105)},103:function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(35),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default((function(e,r){return function n(a,o){try{var s=t[a](o),c=s.value}catch(e){return void r(e)}if(!s.done)return i.default.resolve(c).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(c)}("next")}))}}},105:function(e,t,r){var n=function(){return this}()||Function("return this")(),a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(106),a)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},106:function(e,t){!function(t){"use strict";var r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=d;var u={},p={};p[i]=function(){return this};var g=Object.getPrototypeOf,h=g&&g(g(k([])));h&&h!==r&&n.call(h,i)&&(p=h);var f=b.prototype=v.prototype=Object.create(p);y.prototype=f.constructor=b,b.constructor=y,b[s]=y.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(f),e},l.awrap=function(e){return{__await:e}},w(_.prototype),_.prototype[o]=function(){return this},l.AsyncIterator=_,l.async=function(e,t,r,n){var a=new _(d(e,t,r,n));return l.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(f),f[s]="Generator",f[i]=function(){return this},f.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=k,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}}}function d(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),o=new I(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return S()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var s=x(o,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=m(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,o),i}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function v(){}function y(){}function b(){}function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e){var t;this._invoke=function(r,a){function i(){return new Promise((function(t,i){!function t(r,a,i,o){var s=m(e[r],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,o)}),(function(e){t("throw",e,i,o)})):Promise.resolve(l).then((function(e){c.value=e,i(c)}),o)}o(s.arg)}(r,a,t,i)}))}return t=t?t.then(i,i):i()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=m(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},208:function(e,t,r){"use strict";r.r(t)},215:function(e,t,r){"use strict";r.r(t);var n=r(15),a=r.n(n),i=r(102),o=r.n(i),s=r(103),c=r.n(s),l={components:{headBreadcrumb:function(){return r.e(0).then(r.bind(null,217))}},data:function(){return{loading:!1,userInput:{labelName:"",registerUserName:"",dateRange:[]},listData:[],pageObj:{pageSize:10,currPage:1,totalRecord:0,totalPages:1},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-6048e5),e.$emit("pick",[r,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-2592e6),e.$emit("pick",[r,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,r=new Date;r.setTime(r.getTime()-7776e6),e.$emit("pick",[r,t])}}]},timer:null,registerDetail:{},previewImglist:[],registerDetailShow:!1,appEnv:{},localAssetsPreStr:"../../../../",sourceTypeName:"凭证",zoomStyle:window.devicePixelRatio>=1.5}},filters:{},watch:{},created:function(){},mounted:function(){this.getAppEnv(),this.getList()},methods:{gotoBack:function(){this.$router.replace("/entry")},getAppEnv:function(){sessionStorage.getItem("appEnv")&&(this.appEnv=JSON.parse(sessionStorage.getItem("appEnv")),this.localAssetsPreStr=this.appEnv.isPackaged?"../../../../":"../../",this.sourceTypeName=(this.appEnv.use_perspective,"凭证"))},reset:function(){this.userInput={labelName:"",registerUserName:"",dateRange:[]}},getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this;this.loading=!0;var n={labelName:this.userInput.labelName,registerUserName:this.userInput.registerUserName,pageSize:this.pageObj.pageSize,pageNumber:t?1:this.pageObj.currPage};this.userInput.dateRange[0]&&(n.startTime=this.userInput.dateRange[0].format("yyyy-MM-dd")+" 00:00:00"),this.userInput.dateRange[1]&&(n.endTime=this.userInput.dateRange[1].format("yyyy-MM-dd")+" 23:59:59"),console.log(n),r.search(n),this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){e.$message("数据获取超时"),e.loading=!1}),3e3)},search:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()(o.a.mark((function r(){var n,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e,r.next=3,ipcRenderer.sendSync("register_search_record",t);case 3:a=r.sent,setTimeout((function(){"0"==a.code&&a.data&&a.data.pageList&&(n.listData=a.data.pageList,n.pageObj={pageSize:a.data.pageSize,currPage:a.data.curPage,totalRecord:a.data.totalRecords,totalPages:a.data.totalPage}),console.log("register_search_record: ",a),e.loading=!1,clearTimeout(e.timer)}),500);case 5:case"end":return r.stop()}}),r,e)})))()},dateFmt:function(e,t,r){var n=r;try{if(r)n=new Date(r).format("yyyy/MM/dd HH:mm:ss")}catch(e){console.log("dateFmt: ",e)}return n},labelNameFmt:function(e,t,r){return r||this.sourceTypeName},openDetail:function(e){var t=JSON.parse(a()(e));-1==t.registerImg.indexOf("http")&&(t.registerImg=this.localAssetsPreStr+e.registerImg+"?t="+(new Date).getTime()),this.registerDetail=t,this.previewImglist=[t.registerImg],this.registerDetailShow=!0}}},u=r(34);var p=function(e){r(208)},g=Object(u.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"listPageWrap",class:{zoomStyle:e.zoomStyle}},[r("headBreadcrumb",{attrs:{title:"首页",tips:"注册列表",showbtn:!1},on:{goback:e.gotoBack}}),e._v(" "),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"contcentWrap",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.7)"}},[r("div",{staticClass:"filterWrap"},[r("div",{staticClass:"left"},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{staticClass:"formItem timePicker",attrs:{label:"注册时间"}},[r("el-date-picker",{staticClass:"datePicker",attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.userInput.dateRange,callback:function(t){e.$set(e.userInput,"dateRange",t)},expression:"userInput.dateRange"}})],1),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:e.sourceTypeName+"号"}},[r("el-input",{attrs:{maxlength:"30",placeholder:"请输入"+e.sourceTypeName+"号"},model:{value:e.userInput.labelName,callback:function(t){e.$set(e.userInput,"labelName",t)},expression:"userInput.labelName"}})],1),e._v(" "),r("el-form-item",{staticClass:"formItem",attrs:{label:"注册人员"}},[r("el-input",{attrs:{maxlength:"15",placeholder:"请输入注册人员"},model:{value:e.userInput.registerUserName,callback:function(t){e.$set(e.userInput,"registerUserName",t)},expression:"userInput.registerUserName"}})],1)],1)],1),e._v(" "),r("div",{staticClass:"right"},[r("div",{staticClass:"reset",on:{click:function(t){return e.reset()}}},[e._v("重置")]),e._v(" "),r("div",{staticClass:"getList",on:{click:function(t){return e.getList()}}},[e._v("查询")])])]),e._v(" "),r("div",{staticClass:"tableWrap"},[r("el-table",{attrs:{"header-cell-style":{background:"#F7F8FA",color:"#1D2129",height:"40px"},data:e.listData,size:"medium"}},[r("el-table-column",{attrs:{align:"center",prop:"labelNo",label:"编号"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"labelName",label:e.sourceTypeName+"号",formatter:e.labelNameFmt,"show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"registerUserName",label:"注册人员"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",prop:"registerTime",label:"注册时间",formatter:e.dateFmt}})],1),e._v(" "),r("el-pagination",{staticClass:"page",attrs:{background:"","current-page":e.pageObj.currPage,"page-sizes":[10,20,30,40],"page-size":e.pageObj.pageSize,layout:" total,prev, pager, next, jumper, sizes",total:e.pageObj.totalRecord},on:{"size-change":function(t){return e.getList(!0)},"current-change":function(t){return e.getList()},"update:currentPage":function(t){return e.$set(e.pageObj,"currPage",t)},"update:current-page":function(t){return e.$set(e.pageObj,"currPage",t)},"update:pageSize":function(t){return e.$set(e.pageObj,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pageObj,"pageSize",t)}}})],1)]),e._v(" "),r("el-dialog",{attrs:{title:"",visible:e.registerDetailShow,width:"700px","append-to-body":!0,center:""},on:{"update:visible":function(t){e.registerDetailShow=t}}},[r("div",{staticClass:"textLine"},[r("div",{staticClass:"label_id"},[e._v("编号："+e._s(e.registerDetail.labelNo))]),e._v(" "),r("div",{staticClass:"label_no"},[e._v(e._s(e.sourceTypeName)+"号："+e._s(e.registerDetail.labelName))]),e._v(" "),r("div",{staticClass:"label_name"},[e._v("注册人员："+e._s(e.registerDetail.registerUserName))]),e._v(" "),r("div",{staticClass:"label_time"},[e._v("注册时间："+e._s(e.registerDetail.registerTime))])]),e._v(" "),e.registerDetail.registerImg?r("div",{staticClass:"textLine"},[e.registerDetail.registerImg?r("div",{staticClass:"lineContent imgWrap"},[r("el-image",{staticStyle:{height:"360px","min-width":"480px"},attrs:{fit:"contain",src:e.registerDetail.registerImg,"preview-src-list":e.previewImglist}})],1):r("div",{staticClass:"lineContent"},[e._v("未发现注册图片")])]):e._e()])],1)}),[],!1,p,"data-v-5b5fa2e4",null);t.default=g.exports}}]);