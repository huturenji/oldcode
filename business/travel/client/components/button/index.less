@import './default.less';

@button-prefix-cls: ~"bp-button";

@-webkit-keyframes buttonLoading {
    0% {
        transform: rotate3d(0, 0, 1, 0deg);
    }

    100% {
        transform: rotate3d(0, 0, 1, 360deg);
    }
}

@keyframes buttonLoading {
    0% {
        transform: rotate3d(0, 0, 1, 0deg);
    }

    100% {
        transform: rotate3d(0, 0, 1, 360deg);
    }
}

.@{button-prefix-cls} {
    position: relative;
    display: block;
    width: 100%;
    height: @btn-height-base;
    padding: @btn-padding-base;
    font-size: @btn-font-size-base;
    text-align: center;
    line-height: @line-height;
    border-radius: @btn-border-radius-base;
    white-space: nowrap;
    box-shadow: @btn-shadow;
    cursor: pointer;
    transition: all .1s @ease-in-out;

    &&-inline {
        display: inline-block;
        width: auto;
    }

    &&-medium {
        height: @btn-height-md;
        line-height: @btn-height-md;
        font-size: @btn-font-size-md;
    }

    &&-small {
        height: @btn-height-sm;
        line-height: @btn-height-sm;
        font-size: @btn-font-size-sm;
    }

    &&-default {
        color: @btn-default-color;
        background-color: #fff;

        &:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 1px solid #999;
            border-radius: @btn-border-radius-base;
            z-index: 11;
        }

        &:not(.@{button-prefix-cls}-disabled):not(.@{button-prefix-cls}-ghost) {

            &.@{button-prefix-cls}-round {
                &:after {
                    border-radius: 2rem;
                }
            }
        }

        &.@{button-prefix-cls}-ghost {
            background-color: #fff;

            &.@{button-prefix-cls}-round {
                &:after {
                    border-radius: 2rem;
                }
            }
        }
    }

    &&-primary {
        color: #fff;
        background-color: @btn-primary-bg-color;

        &.@{button-prefix-cls}-ghost {
            color: @btn-primary-bg-color;
            background-color: #fff;

            &:after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: 1px solid @btn-primary-bg-color;
                border-radius: @btn-border-radius-base;
                z-index: 11;
            }

            &:active {
                color: #fff;
                background-color: @btn-primary-bg-color;
            }

            &.@{button-prefix-cls}-round {
                &:after {
                    border-radius: 2rem;
                }
            }
        }
    }

    &&-success {
        color: #fff;
        background-color: @success-color;

        &.@{button-prefix-cls}-ghost {
            color: @success-color;
            background-color: #fff;

            &:after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: 1px solid @success-color;
                border-radius: @btn-border-radius-base;
                z-index: 11;
            }

            &:active {
                color: #fff;
                background-color: @success-color;
            }

            &.@{button-prefix-cls}-round {
                &:after {
                    border-radius: 2rem;
                }
            }
        }
    }

    &&-info {
        color: #fff;
        background-color: @info-color;

        &.@{button-prefix-cls}-ghost {
            color: @info-color;
            background-color: #fff;

            &:after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: 1px solid @info-color;
                border-radius: @btn-border-radius-base;
                z-index: 11;
            }

            &:active {
                color: #fff;
                background-color: @info-color;
            }

            &.@{button-prefix-cls}-round {
                &:after {
                    border-radius: 2rem;
                }
            }
        }
    }

    &&-warning {
        color: #fff;
        background-color: @warning-color;

        &.@{button-prefix-cls}-ghost {
            color: @warning-color;
            background-color: #fff;

            &:after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: 1px solid @warning-color;
                border-radius: @btn-border-radius-base;
                z-index: 11;
            }

            &:active {
                color: #fff;
                background-color: @warning-color;
            }

            &.@{button-prefix-cls}-round {
                &:after {
                    border-radius: 2rem;
                }
            }
        }
    }

    &&-danger {
        color: #fff;
        background-color: @danger-color;

        &.@{button-prefix-cls}-ghost {
            color: @danger-color;
            background-color: #fff;

            &:after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border: 1px solid @danger-color;
                border-radius: @btn-border-radius-base;
                z-index: 11;
            }

            &:active {
                color: #fff;
                background-color: @danger-color;
            }

            &.@{button-prefix-cls}-round {
                &:after {
                    border-radius: 2rem;
                }
            }
        }
    }

    &&-link {
        display: inline-block;
        width: auto;
        min-width: .44rem;
        height: auto;
        min-height: .44rem;
        padding: .01rem;
        color: @theme-color;
        background-color: transparent;
        box-shadow: none;

        &:not(.@{button-prefix-cls}-disabled) {

            @media (min-device-width: @screen-sm) {
                &:hover {
                    opacity: @btn-disabled-opacity;
                }
            }

            &:active {
                opacity: @btn-disabled-opacity;
            }
        }
    }

    &&-square {
        border-radius: 0;

        &:after {
            border-radius: 0 !important;
        }
    }

    &&-round {
        border-radius: 1rem;
    }

    &&-disabled {
        opacity: @btn-disabled-opacity;
        cursor: not-allowed;
    }

    &&-loading {
        cursor: wait;

        &:before {
            content: " ";
            margin-right: .1rem;
            display: inline-block;
            vertical-align: sub;
            width: 20px;
            height: 20px;
            animation: buttonLoading 1s steps(12, end) infinite;
            background: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=") no-repeat;
            background-size: contain;
        }
    }

    >.@{button-prefix-cls}-icon {
        color: @btn-icon-color;
    }

    >i,
    >span {
        pointer-events: none;
    }

    >i {
        vertical-align: -(@btn-font-size-base * (@line-height - 1) / 2);
        font-size: @btn-icon-size;
    }

    >span {
        display: inline-block;
    }

    >i+span {
        margin-left: @btn-icon-spacing;
    }
}

@media (-webkit-device-pixel-ratio: 2),
(-webkit-min-device-pixel-ratio: 2) {
    .@{button-prefix-cls} {

        &&-default:after {
            content: '';
            width: 200%;
            height: 200%;
            border-radius: 2 * @btn-border-radius-base;
            transform: scale3d(0.5, 0.5, 1);
            transform-origin: 0 0;
        }

        &.@{button-prefix-cls}-round {
            &:after {
                border-radius: 2rem;
            }
        }

        &&-default,
        &&-primary,
        &&-success,
        &&-info,
        &&-warning,
        &&-danger {
            &.@{button-prefix-cls}-ghost {
                &:after {
                    content: '';
                    width: 200%;
                    height: 200%;
                    border-radius: 2 * @btn-border-radius-base;
                    transform: scale3d(0.5, 0.5, 1);
                    transform-origin: 0 0;
                }

                &.@{button-prefix-cls}-round {
                    &:after {
                        border-radius: 2rem;
                    }
                }
            }
        }
    }
}
